<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="/css/styles.css" />
        <title>Nodejs basic</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" />

        <!-- jQuery library -->
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>

        <!-- Popper JS -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <div class="topnav">
            <a class="active" href="#home">Home</a>
            <a href="#news">News</a>
            <a href="#contact">Contact</a>
            <a href="#about">About</a>
        </div>

        <div>
            <div style="margin: 0 550px">
                <div class="row">
                    <form action="/create-new-user" method="post">
                        <div style="margin-left: -15px" class="col-12"><h1>Create a new user</h1></div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="inputEmail4">Email</label>
                                <input type="email" class="form-control" name="email" placeholder="Email" />
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-6">
                                <label for="inputEmail4">Fisrt name</label>
                                <input type="text" class="form-control" name="firstName" placeholder="Email" />
                            </div>
                            <div class="form-group col-6">
                                <label for="inputPassword4">Last name</label>
                                <input type="text" class="form-control" name="lastName" placeholder="Password" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputAddress">Address</label>
                            <input type="text" class="form-control" name="address" placeholder="1234 Main St" />
                        </div>

                        <div class="form-group"></div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
            </div>

            <div style="padding: 10px 16px">
                <table id="customers">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Email</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Address</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% for(let i=0; i < dataUsers.length; i++) { %>
                        <tr>
                            <td><%= dataUsers[i].id %></td>
                            <td><%= dataUsers[i].email %></td>
                            <td><%= dataUsers[i].firstName %></td>
                            <td><%= dataUsers[i].lastName %></td>
                            <td><%= dataUsers[i].address %></td>

                            <td style="display: flex">
                                <a class="action-item" href="/detail/user/<%= dataUsers[i].id %>">Detail</a>
                                <form action="/edit-user/<%= dataUsers[i].id %>" method="get" class="action-item">
                                    <button type="submit">Edit</button>
                                </form>
                                <form action="/delete-user" method="post" class="action-item">
                                    <input type="hidden" value="<%= dataUsers[i].id %>" name="userId" />
                                    <button type="submit">Delete</button>
                                </form>
                            </td>
                        </tr>
                        <% } %>
                    </tbody>
                </table>
            </div>
        </div>
    </body>
</html>
